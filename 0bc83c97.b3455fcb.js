(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{114:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return b}));var r=n(0),a=n.n(r);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=a.a.createContext({}),p=function(e){var t=a.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=p(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},h=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),d=p(n),h=r,b=d["".concat(i,".").concat(h)]||d[h]||u[h]||s;return n?a.a.createElement(b,o(o({ref:t},l),{},{components:n})):a.a.createElement(b,o({ref:t},l))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,i=new Array(s);i[0]=h;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var l=2;l<s;l++)i[l]=n[l];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},69:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return o})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return p}));var r=n(3),a=n(7),s=(n(0),n(114)),i={title:"Site Management"},o={unversionedId:"developers/site-management",id:"developers/site-management",isDocsHomePage:!1,title:"Site Management",description:"To ensure that the internship information in InternAloha is up to date, we must re-run the scrapers and redeploy the site with the updated data on a regular basis. Here's how to do that:",source:"@site/docs/developers/site-management.md",slug:"/developers/site-management",permalink:"/documentation/docs/developers/site-management",version:"current",lastUpdatedBy:"Philip Johnson",lastUpdatedAt:1619648813,sidebar:"someSidebar",previous:{title:"Deployment",permalink:"/documentation/docs/developers/ui/deploying"},next:{title:"Overview of checklists",permalink:"/documentation/docs/developers/checklists/overview"}},c=[{value:"Install the system",id:"install-the-system",children:[]},{value:"Run the unattended scrapers",id:"run-the-unattended-scrapers",children:[]},{value:"Run the attended scrapers",id:"run-the-attended-scrapers",children:[{value:"Chegg",id:"chegg",children:[]},{value:"Angel List",id:"angel-list",children:[]}]},{value:"Perform Quality Assurance",id:"perform-quality-assurance",children:[]},{value:"Redeploy UI",id:"redeploy-ui",children:[]},{value:"Troubleshooting",id:"troubleshooting",children:[{value:"Location filter has bogus information (eg. Shows &#39;Hardware Engineer&#39;)",id:"location-filter-has-bogus-information-eg-shows-hardware-engineer",children:[]},{value:"Far too many listings with the same dates for Posted and Last Updated",id:"far-too-many-listings-with-the-same-dates-for-posted-and-last-updated",children:[]},{value:"Site doesn&#39;t load at all",id:"site-doesnt-load-at-all",children:[]},{value:"Running <code>[Scraper Name]</code> prints out error logs",id:"running-scraper-name-prints-out-error-logs",children:[]}]}],l={toc:c};function p(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(s.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"To ensure that the internship information in InternAloha is up to date, we must re-run the scrapers and redeploy the site with the updated data on a regular basis. Here's how to do that:"),Object(s.b)("h2",{id:"install-the-system"},"Install the system"),Object(s.b)("p",null,"If you haven't already, ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"./ui/installation"}),"Install the UI")," and ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"./scrapers/installation"}),"Install the Scrapers"),"."),Object(s.b)("p",null,"Be sure to set up the configuration file with your credentials for certain scrapers."),Object(s.b)("h2",{id:"run-the-unattended-scrapers"},"Run the unattended scrapers"),Object(s.b)("p",null,"To run all the scrapers that can support unattended operation, invoke:"),Object(s.b)("pre",null,Object(s.b)("code",Object(r.a)({parentName:"pre"},{}),"npm run scrapers unattended --save statistics\n")),Object(s.b)("p",null,"This command could take anywhere from 1 to 3 hours to complete, depending upon which scrapers execute successfully."),Object(s.b)("p",null,"Here is a sample invocation:"),Object(s.b)("pre",null,Object(s.b)("code",Object(r.a)({parentName:"pre"},{}),'C:\\Users\\JenniferHsu\\Documents\\GitHub\\internaloha\\scraper>npm run scrapers unattended --save statistics\n\n> scrapers@0.1.0 scrapers C:\\Users\\JenniferHsu\\Documents\\GitHub\\internaloha\\scraper\n> node scrapers/main.js "statistics"\n\nStarting scraper apple at 6:10 PM\nStarting scraper acm at 6:10 PM\nStarting scraper aexpress at 6:10 PM\nStarting scraper linkedin at 6:10 PM\nStarting scraper monster at 6:10 PM\nStarting scraper simplyhired at 6:10 PM\nStarting scraper Cisco at 6:10 PM\nStarting scraper zipRecruiter at 6:10 PM\nStarting scraper indeed at 6:10 PM\nStarting scraper idealist at 6:10 PM\nStarting scraper hawaiislack at 6:10 PM\nStarting scraper Glassdoor at 6:10 PM\nStarting scraper nsf-reu at 6:10 PM\nStarting scraper stackoverflow at 6:10 PM\nElapsed time for nsf-reu: a few seconds | 96 listings scraped\nElapsed time for idealist: a few seconds | 0 listings scraped\nElapsed time for Cisco: a few seconds | 5 listings scraped\nElapsed time for stackoverflow: a few seconds | 10 listings scraped\nElapsed time for aexpress: a few seconds | 5 listings scraped\nElapsed time for monster: a few seconds | 0 listings scraped\nElapsed time for hawaiislack: a few seconds | 1 listings scraped\nElapsed time for apple: 2 minutes | 40 listings scraped\nElapsed time for zipRecruiter: 2 minutes | 40 listings scraped\nElapsed time for acm: 5 minutes | 117 listings scraped\nElapsed time for linkedin: 34 minutes | 521 listings scraped\nElapsed time for indeed: 39 minutes | 204 listings scraped\nElapsed time for simplyHired: 2 hours | 1005 listings scraped\nElapsed time for glassdoor: 3 hours | 900 listings scraped\nFinished scraping!\nNow parsing...\nFinished parsing!\nNow getting statistics...\nFinished getting statistics.\nNow saving data to CSV files.\nCompleted.\n')),Object(s.b)("p",null,"Be sure that no errors occur. If errors occur, contact the team using the #internaloha-chat channel to discuss."),Object(s.b)("h2",{id:"run-the-attended-scrapers"},"Run the attended scrapers"),Object(s.b)("p",null,'Now run the scrapers that require user interaction to complete (the "attended" scrapers). There are currently two attended scrapers: Angellist and Chegg Internships:'),Object(s.b)("h3",{id:"chegg"},"Chegg"),Object(s.b)("p",null,"Run the Chegg scraper in attended mode with the following command:"),Object(s.b)("pre",null,Object(s.b)("code",Object(r.a)({parentName:"pre"},{}),"npm run scrapers chegg dev open --save statistics\n")),Object(s.b)("p",null,"Here is sample output:"),Object(s.b)("pre",null,Object(s.b)("code",Object(r.a)({parentName:"pre"},{}),"C:\\Users\\JenniferHsu\\Documents\\GitHub\\internaloha\\scraper>npm run scrapers chegg dev open --save statistics\n\n> scrapers@0.1.0 internships C:\\Users\\JenniferHsu\\Documents\\GitHub\\internaloha\\scraper\n> node scrapers/internships.js\nStarting scraper internships (chegg) at 9:02 PM\nElapsed time for internships (chegg): 34 minutes | 51 listings scraped\n")),Object(s.b)("p",null,"Here is an example screenshot requiring user input:"),Object(s.b)("img",{style:{border:"1px solid black"},src:"/documentation/img/internship-recaptcha.png"}),Object(s.b)("h3",{id:"angel-list"},"Angel List"),Object(s.b)("p",null,"Run the Angel List scraper in attended mode with  the following command:"),Object(s.b)("pre",null,Object(s.b)("code",Object(r.a)({parentName:"pre"},{}),"npm run scrapers angellist dev open --save-statistics\n")),Object(s.b)("p",null,"Here is sample output:"),Object(s.b)("pre",null,Object(s.b)("code",Object(r.a)({parentName:"pre"},{}),"C:\\Users\\JenniferHsu\\Documents\\GitHub\\internaloha\\scraper>npm run scrapers angellist dev open --save statistics\n\n> scrapers@0.1.0 angellist C:\\Users\\JenniferHsu\\Documents\\GitHub\\internaloha\\scraper\n> node scrapers/angellist.js\nStarting scraper angellist at 9:02 PM\nElapsed time for angellist: 23 minutes | 36 listings scraped\n")),Object(s.b)("p",null,"Here is an example screenshot requiring user input:"),Object(s.b)("img",{style:{border:"1px solid black"},src:"/documentation/img/angellist-recaptcha.png"}),Object(s.b)("p",null,"Be sure that no errors occur. If errors occur, contact the team using the #internaloha-chat channel to discuss."),Object(s.b)("h2",{id:"perform-quality-assurance"},"Perform Quality Assurance"),Object(s.b)("p",null,"Follow the ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"/documentation/docs/developers/ui/running"}),"Running the UI locally")," to bring up the site locally with the updated data. Now check the site to\nsee if everything looks OK. For example:"),Object(s.b)("ol",null,Object(s.b)("li",{parentName:"ol"},"Look through and try the locations filter"),Object(s.b)("li",{parentName:"ol"},"Look through and try the skills filter"),Object(s.b)("li",{parentName:"ol"},"Click on the first couple internships and make sure the links work"),Object(s.b)("li",{parentName:"ol"},"Try search for an internship"),Object(s.b)("li",{parentName:"ol"},"Make sure infinite loading works")),Object(s.b)("h2",{id:"redeploy-ui"},"Redeploy UI"),Object(s.b)("p",null,"Once you are satisfied the update is OK, then follow the ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"/documentation/docs/developers/ui/deploying"}),"UI Deployment")," instructions to redeploy\nthe site with the updated information."),Object(s.b)("p",null,"Running those scripts (upon completion) will do all necessary post-processing of the data."),Object(s.b)("h2",{id:"troubleshooting"},"Troubleshooting"),Object(s.b)("h3",{id:"location-filter-has-bogus-information-eg-shows-hardware-engineer"},"Location filter has bogus information (eg. Shows 'Hardware Engineer')"),Object(s.b)("p",null,"Solution: Look at which scrapers cause the bogus information. In most cases, it's the scrapers' error (eg. supplying the wrong information to ",Object(s.b)("inlineCode",{parentName:"p"},"location.state"),") and not the post-processing (which is done in ",Object(s.b)("inlineCode",{parentName:"p"},"multi-parse.js"),")."),Object(s.b)("h3",{id:"far-too-many-listings-with-the-same-dates-for-posted-and-last-updated"},"Far too many listings with the same dates for Posted and Last Updated"),Object(s.b)("p",null,"This usually means the scraper might be accidentally using the same datetime for both. Look at which scrapers it came from and troubleshoot from there."),Object(s.b)("h3",{id:"site-doesnt-load-at-all"},"Site doesn't load at all"),Object(s.b)("p",null,"Look at the data jsons (",Object(s.b)("inlineCode",{parentName:"p"},"internaloha/ui/src/data/"),"). It could be that one of the data doesn't have the correct format.\nYou can also look at ",Object(s.b)("inlineCode",{parentName:"p"},"InternshipFilters.jsx")," and comment out each scraper to find the issue."),Object(s.b)("h3",{id:"running-scraper-name-prints-out-error-logs"},"Running ",Object(s.b)("inlineCode",{parentName:"h3"},"[Scraper Name]")," prints out error logs"),Object(s.b)("p",null,"Due to the nature of scraping, it is bound to happen. Please post the error to #internaloha-chat so somebody can fix it. Usually the fix is simple -- having to change the CSS selectors."))}p.isMDXComponent=!0}}]);