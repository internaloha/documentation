(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{109:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),p=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},b=function(e){var t=p(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),b=p(n),u=a,m=b["".concat(i,".").concat(u)]||b[u]||d[u]||o;return n?r.a.createElement(m,l(l({ref:t},s),{},{components:n})):r.a.createElement(m,l({ref:t},s))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=u;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var s=2;s<o;s++)i[s]=n[s];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},78:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return s}));var a=n(3),r=(n(0),n(109));const o={title:"Weekly Management",sidebar_label:"Weekly Management"},i={unversionedId:"developers/weekly-management",id:"developers/weekly-management",isDocsHomePage:!1,title:"Weekly Management",description:"To understand the management issues surrounding InternAloha, we should run the scrapers and re-deploy the site with",source:"@site/docs\\developers\\weekly-management.md",slug:"/developers/weekly-management",permalink:"/documentation/docs/developers/weekly-management",version:"current",lastUpdatedBy:"jhsuP",lastUpdatedAt:1614751633,sidebar_label:"Weekly Management",sidebar:"someSidebar",previous:{title:"Tech Stack",permalink:"/documentation/docs/developers/tech-stack"},next:{title:"Install Scrapers",permalink:"/documentation/docs/developers/installation/install-scrapers"}},l=[{value:"Set up",id:"set-up",children:[]},{value:"How to run the scrapers",id:"how-to-run-the-scrapers",children:[{value:"Top Level Interface",id:"top-level-interface",children:[]},{value:"Development mode",id:"development-mode",children:[]},{value:"Production Mode",id:"production-mode",children:[]},{value:"Scrapers that are not in the top level interface:",id:"scrapers-that-are-not-in-the-top-level-interface",children:[]}]},{value:"How to update the site with the updated data",id:"how-to-update-the-site-with-the-updated-data",children:[]},{value:"What kind of QA should be performed on the updated site to ensure it&#39;s OK.",id:"what-kind-of-qa-should-be-performed-on-the-updated-site-to-ensure-its-ok",children:[]},{value:"Problems can occur during this process, and what to do about them.",id:"problems-can-occur-during-this-process-and-what-to-do-about-them",children:[]}],c={toc:l};function s({components:e,...t}){return Object(r.b)("wrapper",Object(a.a)({},c,t,{components:e,mdxType:"MDXLayout"}),Object(r.b)("p",null,"To understand the management issues surrounding InternAloha, we should run the scrapers and re-deploy the site with\nthe updated listings once a week. It would also be good for this task to rotate to different members of the group, to ensure that multiple people can do it, and to ensure that there is a good documentation for this management."),Object(r.b)("h2",{id:"set-up"},"Set up"),Object(r.b)("p",null,"Make a copy of ",Object(r.b)("inlineCode",{parentName:"p"},"sample.config.json")," and rename it to ",Object(r.b)("inlineCode",{parentName:"p"},"config.json"),". Some scrapers like angellist or Student\nOpportunity Center requires credentials. Make an account on those sites and fill in the credentials in ",Object(r.b)("inlineCode",{parentName:"p"},"config.json"),".\n",Object(r.b)("inlineCode",{parentName:"p"},"config.json")," will ",Object(r.b)("strong",{parentName:"p"},"not")," be committed to the repository."),Object(r.b)("p",null,"Example:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "angellist": {\n    "user": "johnfoo@testing.com",\n    "password": "changeme"\n  },\n  "studentOpportunityCenter": {\n    "user": "johnfoo@testing.com",\n    "password": "changeme"\n  }\n}\n')),Object(r.b)("p",null,"Make sure to run ",Object(r.b)("inlineCode",{parentName:"p"},"npm install")," under ",Object(r.b)("inlineCode",{parentName:"p"},"/scrapers")," to install the dependencies if you haven't already done so."),Object(r.b)("h2",{id:"how-to-run-the-scrapers"},"How to run the scrapers"),Object(r.b)("h3",{id:"top-level-interface"},"Top Level Interface"),Object(r.b)("p",null,"More information can be found in ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/documentation/docs/developers/scrapers/overview"}),"scrapers/overview"),"."),Object(r.b)("p",null,"The code is stored under ",Object(r.b)("inlineCode",{parentName:"p"},"/scrapers/main.js"),"."),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Script"),Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Information"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"npm run scrapers dev open")),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Runs the script in development mode and opens browser for each scraper. Outputs all Logging info.")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"npm run scrapers dev close")),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Runs the script in development mode, does not open up browser. Outputs all Logging info.")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"npm run scrapers production")),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Runs the script in production mode, does not open up browser. Only outputs logging error.")))),Object(r.b)("p",null,"Explanation of how the top level interface works:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Each scraper definition file exports a single async function that runs the scraper."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"main.js's main")," loops through all scraper definition functions, invoking them, waits for all the results to\nbe done."),Object(r.b)("li",{parentName:"ul"},"Once all the scrapers are done, postprocessing is done and final data is written in a UI-ready format.")),Object(r.b)("h3",{id:"development-mode"},"Development mode"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Depending on args passed (open/close), all scrapers will either open or not open a browser."),Object(r.b)("li",{parentName:"ul"},"Produces logging output."),Object(r.b)("li",{parentName:"ul"},"Does not require a control-c to terminate."),Object(r.b)("li",{parentName:"ul"},"Does all necessary post-processing of the data.")),Object(r.b)("h3",{id:"production-mode"},"Production Mode"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Runs any or all of the scripts without opening up a browser."),Object(r.b)("li",{parentName:"ul"},"Does not produce any logging output, unless they are errors."),Object(r.b)("li",{parentName:"ul"},"Does not require a control-c to terminate."),Object(r.b)("li",{parentName:"ul"},"Does all necessary post-processing of the data.")),Object(r.b)("h3",{id:"scrapers-that-are-not-in-the-top-level-interface"},"Scrapers that are not in the top level interface:"),Object(r.b)("p",null,"The following scrapers are not included in the top level interface because they have reCaptcha, so it cannot be\nautomated:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Site"),Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Reason"),Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Code to individually run scraper"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"angellist"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Requires reCaptcha"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"npm run angellist"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Chegg (Internships)"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Requires reCaptcha"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"npm run internships"))))),Object(r.b)("p",null,"Running those scripts (upon completion) will do all necessary post-processing of the data."),Object(r.b)("h2",{id:"how-to-update-the-site-with-the-updated-data"},"How to update the site with the updated data"),Object(r.b)("p",null,"The top level interface handles the postprocessing. Once the script is done, the data is written in a UI-ready\nformat and should already be displayed locally at http://localhost:3000/internaloha."),Object(r.b)("h2",{id:"what-kind-of-qa-should-be-performed-on-the-updated-site-to-ensure-its-ok"},"What kind of QA should be performed on the updated site to ensure it's OK."),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Look through and try the locations filter "),Object(r.b)("li",{parentName:"ol"},"Look through and try the skills filter"),Object(r.b)("li",{parentName:"ol"},"Click on the first couple internships and make sure the links work"),Object(r.b)("li",{parentName:"ol"},"Try search for an internship"),Object(r.b)("li",{parentName:"ol"},"Make sure infinite loading works")),Object(r.b)("h2",{id:"problems-can-occur-during-this-process-and-what-to-do-about-them"},"Problems can occur during this process, and what to do about them."),Object(r.b)("p",null,"Common Bugs:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Location filter has bogus information (eg. Shows 'Hardware Engineer')"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Solution: Look at which scrapers cause the bogus information. In most cases, it's the scrapers' error (eg.\nsupplying the wrong information to ",Object(r.b)("inlineCode",{parentName:"li"},"location.state"),") and\nnot the post-processing (which is done in ",Object(r.b)("inlineCode",{parentName:"li"},"multi-parse.js"),")."))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Far too many listings with the same dates for Posted and Last Updated"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"This usually means the scraper might be accidently using the same datetime for both. Look at which scrapers it\ncame from and troubleshoot from there. "))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Site doesn't load at all"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Look at the data jsons (",Object(r.b)("inlineCode",{parentName:"li"},"internaloha/src/src/data/"),"). It could be that one of the data doesn't have the correct\nformat."),Object(r.b)("li",{parentName:"ul"},"You can also look at ",Object(r.b)("inlineCode",{parentName:"li"},"InternshipFilters.jsx")," and comment out each scraper to find the issue."))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Running ",Object(r.b)("inlineCode",{parentName:"p"},"[Scraper Name]")," prints out error logs"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Due to the nature of scraping, it is bound to happen. Make a note of it and bring it up at the next meeting so\nsomebody can fix it. Usually the fix is simple -- having to change the CSS selectors.")))))}s.isMDXComponent=!0}}]);