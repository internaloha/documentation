<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/documentation/blog/rss.xml" title="InternAloha Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/documentation/blog/atom.xml" title="InternAloha Blog Atom Feed"><title data-react-helmet="true">Invocation | InternAloha</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Invocation | InternAloha"><meta data-react-helmet="true" name="description" content="npm run scrape -- -s"><meta data-react-helmet="true" property="og:description" content="npm run scrape -- -s"><meta data-react-helmet="true" property="og:url" content="https://internaloha.github.io/documentation/docs/developers/invocation"><link data-react-helmet="true" rel="shortcut icon" href="/documentation/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://internaloha.github.io/documentation/docs/developers/invocation"><link rel="stylesheet" href="/documentation/styles.405717b7.css">
<link rel="preload" href="/documentation/styles.2ee2efb5.js" as="script">
<link rel="preload" href="/documentation/runtime~main.5aa73780.js" as="script">
<link rel="preload" href="/documentation/main.35c19a9d.js" as="script">
<link rel="preload" href="/documentation/1.0aacee35.js" as="script">
<link rel="preload" href="/documentation/33.cd07b7b5.js" as="script">
<link rel="preload" href="/documentation/34.98ca0fd6.js" as="script">
<link rel="preload" href="/documentation/935f2afb.5ee132db.js" as="script">
<link rel="preload" href="/documentation/32.6c96446f.js" as="script">
<link rel="preload" href="/documentation/5a7293f0.9ae32456.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/documentation/"><img src="/documentation/img/internaloha-logo.png" alt="InternAloha Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/documentation/img/internaloha-logo.png" alt="InternAloha Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">InternAloha</strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/documentation/docs/overview/motivation">Documentation</a><a href="https://github.com/internaloha" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/documentation/"><img src="/documentation/img/internaloha-logo.png" alt="InternAloha Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/documentation/img/internaloha-logo.png" alt="InternAloha Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">InternAloha</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/documentation/docs/overview/motivation">Documentation</a></li><li class="menu__list-item"><a href="https://github.com/internaloha" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/docs/overview/motivation">Motivation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/docs/overview/needs-assessment">Needs Assessment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/docs/overview/evaluation">Evaluation</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Developer Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/developers/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/developers/installation">Installation</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/documentation/docs/developers/invocation">Invocation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/developers/implementation">Implementation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/developers/production">Production</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/developers/tips">Developer Tips</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/developers/legal">Legal Issues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/developers/test-scraper">The &quot;Test&quot; Scraper</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/developers/resources">Resources</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Documentation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/docs/documentation/manage-this-site">Manage this site</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/docs/documentation/write-markdown">Write markdown</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/docs/documentation/use-mdx">Use MDX</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Pilot Studies</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/docs/pilot-studies/pilot-study-dec-2020">Pilot Study (Dec 2020)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/docs/pilot-studies/pilot-study-may-2021">Pilot Study (May 2021)</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Invocation</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="npm-run-scrape-----s-scraper"></a><code>npm run scrape -- -s &lt;scraper&gt;</code><a class="hash-link" href="#npm-run-scrape-----s-scraper" title="Direct link to heading">#</a></h2><p>This is the simplest version of the script, which runs a single scraper. For example:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">npm run scrape -- -s nsf</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Currently, this command produces the following output:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ npm run scrape -- -s nsf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; scraper@2.0.0 scrape</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; ts-node -P tsconfig.buildScripts.json scrape.ts &quot;-s&quot; &quot;nsf&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">11:19:24 WARN NSF Launching NSF scraper</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">11:19:41 INFO NSF Wrote 100 listings.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">11:19:41 INFO NSF Wrote statistics.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>You will see that a file called <code>nsf.dev.json</code> has been written to the <code>listings/compsci</code> directory, and a file called (for example) <code>nsf-2021-10-18.dev.json</code> has been written to the <code>statistics/compsci</code> directory.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="npm-run-scrape------help"></a><code>npm run scrape -- --help</code><a class="hash-link" href="#npm-run-scrape------help" title="Direct link to heading">#</a></h2><p>There are many options for customizing the run of a scraper.  To see them, invoke help:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">npm run scrape -- --help</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Here is the output from a recent run. There may be additional options or changes in your version.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ npm run scrape -- --help</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; scraper@2.0.0 scrape</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; ts-node -P tsconfig.buildScripts.json scrape.ts &quot;--help&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Usage: scrape [options]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Options:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -s, --scraper &lt;scraper&gt;                Specify the scraper. (choices: &quot;angellist&quot;, &quot;apple&quot;, &quot;cisco&quot;, &quot;linkedin&quot;, &quot;nsf&quot;, &quot;simplyhired&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                         &quot;test&quot;, &quot;ziprecruiter&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -l, --log-level &lt;level&gt;                Specify logging level (choices: &quot;trace&quot;, &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, &quot;error&quot;, default: &quot;info&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -d, --discipline &lt;discipline&gt;          Specify what types of internships to find (choices: &quot;compsci&quot;, &quot;compeng&quot;, default: &quot;compsci&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -c, --config-file &lt;config-file&gt;        Specify config file name. (default: &quot;config.json&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -nh, --no-headless                     Disable headless operation (display browser window during execution)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -dt, --devtools                        Open a devtools window during run. (default: false)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -cf, --commit-files                    Write listing and statistic files that are not git-ignored. (default: false)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -sm, --slowMo &lt;milliseconds&gt;           Pause each puppeteer action by the provided number of milliseconds. (default: &quot;0&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -t,  --default-timeout &lt;seconds&gt;       Set default timeout in seconds for puppeteer. (default: &quot;0&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -ld, --listing-dir &lt;listingdir&gt;        Set the directory to hold listing files. (default: &quot;./listings&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -ml, --minimum-listings &lt;minlistings&gt;  Throw error if this number of listings not found. (default: &quot;0&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -sd, --statistics-dir &lt;statisticsdir&gt;  Set the directory to hold statistics files. (default: &quot;./statistics&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -vph, --viewport-height &lt;height&gt;       Set the viewport height (when browser displayed). (default: &quot;700&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -vpw, --viewport-width &lt;width&gt;         Set the viewport width (when browser displayed). (default: &quot;1000&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -h, --help                             display help for command</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>You can provide any combination of these parameters, in any order.  The only required parameter is the scraper.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="why-no-multi-scraper-invocation"></a>Why no multi-scraper invocation?<a class="hash-link" href="#why-no-multi-scraper-invocation" title="Direct link to heading">#</a></h2><p>In the previous version of the scraper, we discovered that puppeteer is not &quot;thread safe&quot;, in the sense that running multiple scrapers simultaneously can result in execution errors that do not appear when running each scraper individually.</p><p>To avoid this problem, the <code>scrape</code> script supports running of only a single scraper. To support batch execution of multiple scrapers, we have created a Unix shell script (run-scrapers.sh) that invokes the <code>scrape</code> script multiple times, once per scraper. This will isolate each run of the scraper in its own OS process and prevent these sorts of problems from occurring. We will create a Windows version of this script eventually.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="example-nsf-scraper"></a>Example: NSF Scraper<a class="hash-link" href="#example-nsf-scraper" title="Direct link to heading">#</a></h2><p>Here is the default run of the NSF scraper. The log level defaults to &#x27;info&#x27;, so there&#x27;s very little output.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ npm run scrape -- -s nsf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; scraper@2.0.0 scrape</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; ts-node -P tsconfig.buildScripts.json scrape.ts &quot;-s&quot; &quot;nsf&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">12:21:06 WARN NSF Launching NSF scraper</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">12:21:10 INFO NSF Wrote 100 listings.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">12:21:10 INFO NSF Wrote statistics.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Running the scraper with log level &#x27;debug&#x27; produces a lot of output, much of which I&#x27;ll elide:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ npm run scrape -- -s nsf -l debug</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; scraper@2.0.0 scrape /Users/philipjohnson/github/internaloha/internaloha/scrapers-v2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; ts-node -P tsconfig.buildScripts.json main.ts &quot;-s&quot; &quot;nsf&quot; &quot;-l&quot; &quot;debug&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">15:45:17 DEBUG root Starting launch</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">15:45:18 INFO NSF Launching scraper.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">15:45:18 DEBUG NSF Starting login</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">15:45:20 DEBUG NSF Starting generate listings</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">15:45:22 DEBUG NSF URLS:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">https://engineering.asu.edu/sensip/reu-index-html/,https://web.asu.edu/imaging-lyceum/visual-media-reu,http://www.eng.auburn.edu/comp/research/impact/,http://www.eng.auburn</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">15:45:22 DEBUG NSF Positions:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Sensor Signal and Information Processing (SenSIP),Computational Imaging and Mixed-Reality for Visual Media Creation and Visualization,Research Experience for Undergraduate on Smart UAVs,REU Site: Parallel and Distributed Computing,Data-driven Security,Undergraduate Research Experiences in Big Data Security and Privacy,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  :</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  :</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">15:45:22 DEBUG NSF Descriptions:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Research Topics/Keywords: Sensors and signal processing algorithms, sensor design and fabrication, signal processing, wearable and flexible sensors, machine learning, interface circuits, sensors for Internet of Things</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">15:45:22 DEBUG NSF Locations:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tempe, Arizona,Arizona,Auburn, Alabama,Auburn, Alabama,Boise, Idaho,Pomona, California,Pittsburgh, Pennsylvania,Pittsburgh, Pennsylvania,Potsdam, New York</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">15:45:22 DEBUG NSF Starting processListings</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">15:45:22 DEBUG NSF Starting write listings</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">15:45:22 INFO NSF Wrote data</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">15:45:22 DEBUG NSF Starting write statistics</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">15:45:22 DEBUG NSF Starting close</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="multi-discipline-support"></a>Multi-discipline support<a class="hash-link" href="#multi-discipline-support" title="Direct link to heading">#</a></h2><p>The scrape script provides a --discipline parameter that defaults to &quot;compsci&quot; but also supports &quot;compeng&quot;. The value of this parameter is available to each scraper in a field called &quot;discipline&quot;.  Each scraper can consult the value of the discipline field and alter their search behavior if they want to implement discipline-specific internship listings.</p><p>The discipline parameter also affects where the choice of directory where the listing and statistics files are written. The compsci files are written into <code>listings/compsci</code> and <code>statistics/compsci</code>. The compeng files are written into <code>listings/compeng</code> and <code>statistics/compeng</code>.</p><p>At this time, the scrapers do not change their behavior according to the value of the --discipline parameter. So, if you call the scrape script with &quot;--discipline compeng&quot;, the only impact will be to write out the listing and statistics files to a different subdirectory.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="generating-statistics"></a>Generating statistics<a class="hash-link" href="#generating-statistics" title="Direct link to heading">#</a></h2><p>Each time you run a scraper, a json file is written to a subdirectory of <code>/statistics</code> containing information about that run. The file name contains the timestamp YYYY-MM-DD, so statistics are only maintained for the last run of the day.</p><p>For example, here are the contents of <code>statistics/compsci/nsf-2021-10-08.dev.json</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;date&quot;: &quot;2021-10-08&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;elapsedTime&quot;: 5,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;numErrors&quot;: 0,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;numListings&quot;: 99,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;scraper&quot;: &quot;nsf&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;errorMessages&quot;: []</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>You can run the &quot;statistics&quot; script to read all of the files in the statistics directory and generate a set of CSV files that provide historical trends for the scrapers:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ npm run statistics</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; scraper@2.0.0 statistics /Users/philipjohnson/github/internaloha/internaloha/scrapers-v2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; ts-node -P tsconfig.buildScripts.json statistics.ts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wrote statistics/compsci/statistics.num-listings.dev.csv.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wrote statistics/compsci/statistics.num-errors.dev.csv.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wrote statistics/compsci/statistics.elapsed-time.dev.csv.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>During development, statistics files are generated with a &quot;.dev.csv&quot; extension. This means you can look at them, but they are not committed to GitHub.</p><p>Running the statistics script with the --commit-files flag eliminates the &quot;.dev&quot; suffix component and thus allows the statistics files to be committed to GitHub.</p><p>You can browse to those files directory to obtain a usable tabular representation of run data.</p><p>Invoke the statistics script with the <code>--help</code> option to see all available options:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ npm run statistics -- -h</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; scraper@2.0.0 statistics</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; ts-node -P tsconfig.buildScripts.json statistics.ts &quot;-h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Usage: statistics [options]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Options:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -l, --log-level &lt;level&gt;                Specify logging level (choices: &quot;trace&quot;, &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, &quot;error&quot;, default: &quot;warn&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -d, --discipline &lt;discipline&gt;          Specify what types of internships to find (choices: &quot;compsci&quot;, &quot;compeng&quot;, default: &quot;compsci&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -sd, --statistics-dir &lt;statisticsdir&gt;  Set the directory to hold statistics files. (default: &quot;./statistics&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -cf, --commit-files                    Write listing and statistic files that are not git-ignored. (default: false)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -h, --help                             display help for command</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="development-mode-dont-commit-output-files"></a>Development mode (don&#x27;t commit output files)<a class="hash-link" href="#development-mode-dont-commit-output-files" title="Direct link to heading">#</a></h2><p>During development, people will be running scrapers and generating both listing and statistics &quot;output&quot; files in their branches.  This could lead to lots of spurious merge conflicts when trying to merge your branches back into main.</p><p>To avoid this problem, both the scrape and statistics scripts have a flag called &quot;--commit-files&quot; which is (currently) false by default.  When false, all listing file names have a &quot;.dev.json&quot; suffix, and all statistics file names have a &quot;.dev.csv&quot; suffix.  Both of these suffixes are git-ignored, with the result that all output files you create during development are not committed to your branch or to main.</p><p>If you want your data files to be committed, then you just run either script with the option &quot;--commit-files&quot;, which makes that flag true. Then the associated output files are created with &quot;.json&quot; (rather than &quot;.dev.json&quot;) or &quot;.csv&quot; (rather than &quot;.dev.csv&quot;), and so they will not be git-ignored.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/documentation/docs/developers/installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Installation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/documentation/docs/developers/implementation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Implementation Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#npm-run-scrape-----s-scraper" class="table-of-contents__link"><code>npm run scrape -- -s &lt;scraper&gt;</code></a></li><li><a href="#npm-run-scrape------help" class="table-of-contents__link"><code>npm run scrape -- --help</code></a></li><li><a href="#why-no-multi-scraper-invocation" class="table-of-contents__link">Why no multi-scraper invocation?</a></li><li><a href="#example-nsf-scraper" class="table-of-contents__link">Example: NSF Scraper</a></li><li><a href="#multi-discipline-support" class="table-of-contents__link">Multi-discipline support</a></li><li><a href="#generating-statistics" class="table-of-contents__link">Generating statistics</a></li><li><a href="#development-mode-dont-commit-output-files" class="table-of-contents__link">Development mode (don&#39;t commit output files)</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">InternAloha is sponsored by:<br>
                  <a href="http://csdl.ics.hawaii.edu">Collaborative Software Development Laboratory</a><br>
                  <a href="http://www.ics.hawaii.edu">Department of Information and Computer Sciences</a><br>
                  <a href="http://www.hawaii.edu">University of Hawaii</a><br>
                  with funding from the National Science Foundation (Awards 1829542, 2025112)</div></div></div></footer></div>
<script src="/documentation/styles.2ee2efb5.js"></script>
<script src="/documentation/runtime~main.5aa73780.js"></script>
<script src="/documentation/main.35c19a9d.js"></script>
<script src="/documentation/1.0aacee35.js"></script>
<script src="/documentation/33.cd07b7b5.js"></script>
<script src="/documentation/34.98ca0fd6.js"></script>
<script src="/documentation/935f2afb.5ee132db.js"></script>
<script src="/documentation/32.6c96446f.js"></script>
<script src="/documentation/5a7293f0.9ae32456.js"></script>
</body>
</html>